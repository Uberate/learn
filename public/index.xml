<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>努力做正确的事 on Learn / Ub(s)erate</title>
    <link>http://localhost:1313/learn/</link>
    <description>Recent content in 努力做正确的事 on Learn / Ub(s)erate</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <copyright>© 2025 ub(s)erate</copyright>
    <lastBuildDate>Mon, 02 Jun 2025 20:57:49 +0800</lastBuildDate><atom:link href="http://localhost:1313/learn/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Ji_yu_dou_fu_tang</title>
      <link>http://localhost:1313/learn/posts/food_menu/ji_yu_dou_fu_tang/</link>
      <pubDate>Sun, 08 Jun 2025 14:10:40 +0800</pubDate>
      
      <guid>http://localhost:1313/learn/posts/food_menu/ji_yu_dou_fu_tang/</guid>
      <description>&lt;h2 class=&#34;relative group&#34;&gt;样品 
    &lt;div id=&#34;样品&#34; class=&#34;anchor&#34;&gt;&lt;/div&gt;
    
    &lt;span
        class=&#34;absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100&#34;&gt;
        &lt;a class=&#34;group-hover:text-primary-300 dark:group-hover:text-neutral-700&#34;
            style=&#34;text-decoration-line: none !important;&#34; href=&#34;#%e6%a0%b7%e5%93%81&#34; aria-label=&#34;锚点&#34;&gt;#&lt;/a&gt;
    &lt;/span&gt;        
    
&lt;/h2&gt;
&lt;p&gt;





&lt;figure&gt;
    &lt;img class=&#34;my-0 rounded-md&#34; loading=&#34;lazy&#34; alt=&#34;鲫鱼豆腐汤&#34; src=&#34;http://localhost:1313/learn/img/food_menu/ji_yu_dou_fu_tang/1.png&#34; /&gt;

  
&lt;/figure&gt;







&lt;figure&gt;
    &lt;img class=&#34;my-0 rounded-md&#34; loading=&#34;lazy&#34; alt=&#34;鲫鱼豆腐汤&#34; src=&#34;http://localhost:1313/learn/img/food_menu/ji_yu_dou_fu_tang/2.png&#34; /&gt;

  
&lt;/figure&gt;
&lt;/p&gt;

&lt;h2 class=&#34;relative group&#34;&gt;原材料 
    &lt;div id=&#34;原材料&#34; class=&#34;anchor&#34;&gt;&lt;/div&gt;
    
    &lt;span
        class=&#34;absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100&#34;&gt;
        &lt;a class=&#34;group-hover:text-primary-300 dark:group-hover:text-neutral-700&#34;
            style=&#34;text-decoration-line: none !important;&#34; href=&#34;#%e5%8e%9f%e6%9d%90%e6%96%99&#34; aria-label=&#34;锚点&#34;&gt;#&lt;/a&gt;
    &lt;/span&gt;        
    
&lt;/h2&gt;

&lt;h2 class=&#34;relative group&#34;&gt;步骤 
    &lt;div id=&#34;步骤&#34; class=&#34;anchor&#34;&gt;&lt;/div&gt;
    
    &lt;span
        class=&#34;absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100&#34;&gt;
        &lt;a class=&#34;group-hover:text-primary-300 dark:group-hover:text-neutral-700&#34;
            style=&#34;text-decoration-line: none !important;&#34; href=&#34;#%e6%ad%a5%e9%aa%a4&#34; aria-label=&#34;锚点&#34;&gt;#&lt;/a&gt;
    &lt;/span&gt;        
    
&lt;/h2&gt;</description>
      
    </item>
    
    <item>
      <title>Abc 记谱法</title>
      <link>http://localhost:1313/learn/posts/music/staff/abc/</link>
      <pubDate>Sat, 07 Jun 2025 01:28:17 +0800</pubDate>
      
      <guid>http://localhost:1313/learn/posts/music/staff/abc/</guid>
      <description>&lt;h2 class=&#34;relative group&#34;&gt;头信息 
    &lt;div id=&#34;头信息&#34; class=&#34;anchor&#34;&gt;&lt;/div&gt;
    
    &lt;span
        class=&#34;absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100&#34;&gt;
        &lt;a class=&#34;group-hover:text-primary-300 dark:group-hover:text-neutral-700&#34;
            style=&#34;text-decoration-line: none !important;&#34; href=&#34;#%e5%a4%b4%e4%bf%a1%e6%81%af&#34; aria-label=&#34;锚点&#34;&gt;#&lt;/a&gt;
    &lt;/span&gt;        
    
&lt;/h2&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-abc&#34; data-lang=&#34;abc&#34;&gt;X: 文件标号
T: 标题
M: 节拍 2/4
L: 谱号编辑音长单位 1/8
C: 作者
N: 备注 Ub(s)erate ABC
K: 调号 C
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 class=&#34;relative group&#34;&gt;ABC 内容 
    &lt;div id=&#34;abc-内容&#34; class=&#34;anchor&#34;&gt;&lt;/div&gt;
    
    &lt;span
        class=&#34;absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100&#34;&gt;
        &lt;a class=&#34;group-hover:text-primary-300 dark:group-hover:text-neutral-700&#34;
            style=&#34;text-decoration-line: none !important;&#34; href=&#34;#abc-%e5%86%85%e5%ae%b9&#34; aria-label=&#34;锚点&#34;&gt;#&lt;/a&gt;
    &lt;/span&gt;        
    
&lt;/h2&gt;




&lt;script src=&#34;http://localhost:1313/learn/js/abcjs-basic-min.js&#34; defer&gt;&lt;/script&gt;





&lt;style&gt;
    main {
        width: 50vw;
        margin: 0 auto;
    }
    #paper-0 {
        width: 100%;
    }
    .abcjs-container {
        width: 100% !important;
    }
    .row {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
    }
    .status {
        padding: 2px 10px 10px 10px;
        background-color: #f0f0f0;
        width:250px;
    }
    .start, .stop {
        background-color: #4CAF50;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 16px;
        margin: 10px 5px;
        transition: background-color 0.3s ease;
    }
    .stop {
        background-color: #f44336;
    }
    .start:hover {
        background-color: #45a049;
    }
    .stop:hover {
        background-color: #da190b;
    }
    .start:active, .stop:active {
        transform: scale(0.98);
    }
    @media (prefers-color-scheme: dark) {
        .status {
            background-color: gray;
        }
        .start, .stop {
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
    }
&lt;/style&gt;

&lt;div style=&#34;width: 100%;&#34;&gt;
    &lt;details&gt;
        &lt;summary&gt;查看 ABC 记谱源码&lt;/summary&gt;
        &lt;pre&gt;&lt;code&gt;
M: 2/4
L: 1/4
K: C
CDEF|GABc|defg|abc&#39;d&#39;|e&#39;f&#39;g&#39;a&#39;|b&#39;
&lt;/code&gt;&lt;/pre&gt;
    &lt;/details&gt;
    &lt;main&gt;
      &lt;button class=&#34;start&#34; style=&#34;background-color: #4CAF50; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; font-size: 16px; margin: 10px 5px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);&#34;&gt;开始播放&lt;/button&gt;
      &lt;button class=&#34;stop&#34; style=&#34;display: none; background-color: #f44336; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; font-size: 16px; margin: 10px 5px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);&#34;&gt;停止播放&lt;/button&gt;
      &lt;div id=&#34;paper-0&#34;&gt;&lt;/div&gt;
      &lt;div id=&#34;audio&#34;&gt;&lt;/div&gt;
      &lt;div class=&#34;status&#34;&gt;&lt;/div&gt;
      &lt;div class=&#34;suspend-explanation&#34;&gt;点击开始播放按钮开始播放&lt;/div&gt;
      &lt;div class=&#34;audio-error&#34; style=&#34;display: none;&#34;&gt;此浏览器不支持音频播放&lt;/div&gt;
    &lt;/main&gt;
&lt;/div&gt;

&lt;script &gt;
    var abc = `\nM: 2\/4\nL: 1\/4\nK: C\nCDEF|GABc|defg|abc\u0027d\u0027|e\u0027f\u0027g\u0027a\u0027|b\u0027\n`;

    addEventListener(&#34;DOMContentLoaded&#34;, function() {
        function updateScale() {
            var container = document.querySelector(&#39;main&#39;);
            var containerWidth = container.offsetWidth;
            var scale = containerWidth / 700; 
            return Math.min(Math.max(scale, 0.8), 2.0); 
        }

        
        var visualObj = ABCJS.renderAbc(&#34;paper-0&#34;, abc, {
            responsive: &#34;resize&#34;,
            scale: updateScale()
        })[0];

        
        window.addEventListener(&#39;resize&#39;, function() {
            ABCJS.renderAbc(&#34;paper-0&#34;, abc, {
                responsive: &#34;resize&#34;,
                scale: updateScale()
            });
        });

        
        
        var midiBuffer;

        var startAudioButton = document.querySelector(&#34;.start&#34;);
        var stopAudioButton = document.querySelector(&#34;.stop&#34;);
        var explanationDiv = document.querySelector(&#34;.suspend-explanation&#34;);
        var statusDiv = document.querySelector(&#34;.status&#34;);

        startAudioButton.addEventListener(&#34;click&#34;, function() {
            startAudioButton.setAttribute(&#34;style&#34;, &#34;display:none;&#34;);
            explanationDiv.setAttribute(&#34;style&#34;, &#34;opacity: 0;&#34;);
            statusDiv.innerHTML = &#34;&lt;div&gt;测试浏览器&lt;/div&gt;&#34;;
            if (ABCJS.synth.supportsAudio()) {
                stopAudioButton.setAttribute(&#34;style&#34;, &#34;&#34;);

                
                
                
                
                window.AudioContext = window.AudioContext ||
                    window.webkitAudioContext ||
                    navigator.mozAudioContext ||
                    navigator.msAudioContext;
                var audioContext = new window.AudioContext();
                audioContext.resume().then(function () {
                    

                    
                    midiBuffer = new ABCJS.synth.CreateSynth();

                    
                    return midiBuffer.init({
                        visualObj: visualObj,
                        audioContext: audioContext,
                        millisecondsPerMeasure: visualObj.millisecondsPerMeasure(),
                        sequence: [],
                        options: {
                            soundFontUrl: &#34;https://paulrosen.github.io/midi-js-soundfonts/abcjs/&#34;,
                            program: 0,
                            midiTranspose: 0,
                            fadeLength: 0,
                            defaultQpm: 120,
                            chordsOff: false,
                            voicesOff: false,
                            drum: &#34;&#34;,
                            swing: {
                                beats: 0,
                                value: 0
                            }
                        }
                    }).then(function (response) {
                        console.log(&#34;Notes loaded: &#34;, response)
                        statusDiv.innerHTML += &#34;&lt;div&gt;音频对象初始化&lt;/div&gt;&#34;;
                        
                        
                        return midiBuffer.prime();
                    }).then(function (response) {
                        statusDiv.innerHTML += &#34;&lt;div&gt;状态 = &#34; + response.status + &#34;&lt;/div&gt;&#34;
                        
                        midiBuffer.start();
                        statusDiv.innerHTML += &#34;&lt;div&gt;音频开始&lt;/div&gt;&#34;;
                        return Promise.resolve();
                    }).catch(function (error) {
                        if (error.status === &#34;NotSupported&#34;) {
                            stopAudioButton.setAttribute(&#34;style&#34;, &#34;display:none;&#34;);
                            var audioError = document.querySelector(&#34;.audio-error&#34;);
                            audioError.setAttribute(&#34;style&#34;, &#34;&#34;);
                        } else
                            console.warn(&#34;synth error&#34;, error);
                    });
                });
            } else {
                var audioError = document.querySelector(&#34;.audio-error&#34;);
                audioError.setAttribute(&#34;style&#34;, &#34;&#34;);
            }
        });

        stopAudioButton.addEventListener(&#34;click&#34;, function() {
            startAudioButton.setAttribute(&#34;style&#34;, &#34;&#34;);
            explanationDiv.setAttribute(&#34;style&#34;, &#34;&#34;);
            stopAudioButton.setAttribute(&#34;style&#34;, &#34;display:none;&#34;);
            if (midiBuffer)
                midiBuffer.stop();
        });
    })
&lt;/script&gt;
&lt;ul&gt;
&lt;li&gt;延音: &lt;code&gt;{音符 音长}&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;连音: &lt;code&gt;(start end)&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 class=&#34;relative group&#34;&gt;ABC 高低音 
    &lt;div id=&#34;abc-高低音&#34; class=&#34;anchor&#34;&gt;&lt;/div&gt;
    
    &lt;span
        class=&#34;absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100&#34;&gt;
        &lt;a class=&#34;group-hover:text-primary-300 dark:group-hover:text-neutral-700&#34;
            style=&#34;text-decoration-line: none !important;&#34; href=&#34;#abc-%e9%ab%98%e4%bd%8e%e9%9f%b3&#34; aria-label=&#34;锚点&#34;&gt;#&lt;/a&gt;
    &lt;/span&gt;        
    
&lt;/h2&gt;




&lt;script src=&#34;http://localhost:1313/learn/js/abcjs-basic-min.js&#34; defer&gt;&lt;/script&gt;





&lt;style&gt;
    main {
        width: 50vw;
        margin: 0 auto;
    }
    #paper-1 {
        width: 100%;
    }
    .abcjs-container {
        width: 100% !important;
    }
    .row {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
    }
    .status {
        padding: 2px 10px 10px 10px;
        background-color: #f0f0f0;
        width:250px;
    }
    .start, .stop {
        background-color: #4CAF50;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 16px;
        margin: 10px 5px;
        transition: background-color 0.3s ease;
    }
    .stop {
        background-color: #f44336;
    }
    .start:hover {
        background-color: #45a049;
    }
    .stop:hover {
        background-color: #da190b;
    }
    .start:active, .stop:active {
        transform: scale(0.98);
    }
    @media (prefers-color-scheme: dark) {
        .status {
            background-color: gray;
        }
        .start, .stop {
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
    }
&lt;/style&gt;

&lt;div style=&#34;width: 100%;&#34;&gt;
    &lt;details&gt;
        &lt;summary&gt;查看 ABC 记谱源码&lt;/summary&gt;
        &lt;pre&gt;&lt;code&gt;
M: 2/4
L: 1/4
K: C
V:1 Program 1 0 %piano
V:2 Program 1 0 octave=-2 bass $piano
V:1
CDEF|GABc|defg|abc&#39;d&#39;|e&#39;f&#39;g&#39;a&#39;|b&#39;
V:2
CDEF|GABc|defg|abc&#39;d&#39;|e&#39;f&#39;g&#39;a&#39;|b&#39;
&lt;/code&gt;&lt;/pre&gt;
    &lt;/details&gt;
    &lt;main&gt;
      &lt;button class=&#34;start&#34; style=&#34;background-color: #4CAF50; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; font-size: 16px; margin: 10px 5px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);&#34;&gt;开始播放&lt;/button&gt;
      &lt;button class=&#34;stop&#34; style=&#34;display: none; background-color: #f44336; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; font-size: 16px; margin: 10px 5px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);&#34;&gt;停止播放&lt;/button&gt;
      &lt;div id=&#34;paper-1&#34;&gt;&lt;/div&gt;
      &lt;div id=&#34;audio&#34;&gt;&lt;/div&gt;
      &lt;div class=&#34;status&#34;&gt;&lt;/div&gt;
      &lt;div class=&#34;suspend-explanation&#34;&gt;点击开始播放按钮开始播放&lt;/div&gt;
      &lt;div class=&#34;audio-error&#34; style=&#34;display: none;&#34;&gt;此浏览器不支持音频播放&lt;/div&gt;
    &lt;/main&gt;
&lt;/div&gt;

&lt;script &gt;
    var abc = `\nM: 2\/4\nL: 1\/4\nK: C\nV:1 Program 1 0 %piano\nV:2 Program 1 0 octave=-2 bass \u0024piano\nV:1\nCDEF|GABc|defg|abc\u0027d\u0027|e\u0027f\u0027g\u0027a\u0027|b\u0027\nV:2\nCDEF|GABc|defg|abc\u0027d\u0027|e\u0027f\u0027g\u0027a\u0027|b\u0027\n`;

    addEventListener(&#34;DOMContentLoaded&#34;, function() {
        function updateScale() {
            var container = document.querySelector(&#39;main&#39;);
            var containerWidth = container.offsetWidth;
            var scale = containerWidth / 700; 
            return Math.min(Math.max(scale, 0.8), 2.0); 
        }

        
        var visualObj = ABCJS.renderAbc(&#34;paper-1&#34;, abc, {
            responsive: &#34;resize&#34;,
            scale: updateScale()
        })[0];

        
        window.addEventListener(&#39;resize&#39;, function() {
            ABCJS.renderAbc(&#34;paper-1&#34;, abc, {
                responsive: &#34;resize&#34;,
                scale: updateScale()
            });
        });

        
        
        var midiBuffer;

        var startAudioButton = document.querySelector(&#34;.start&#34;);
        var stopAudioButton = document.querySelector(&#34;.stop&#34;);
        var explanationDiv = document.querySelector(&#34;.suspend-explanation&#34;);
        var statusDiv = document.querySelector(&#34;.status&#34;);

        startAudioButton.addEventListener(&#34;click&#34;, function() {
            startAudioButton.setAttribute(&#34;style&#34;, &#34;display:none;&#34;);
            explanationDiv.setAttribute(&#34;style&#34;, &#34;opacity: 0;&#34;);
            statusDiv.innerHTML = &#34;&lt;div&gt;测试浏览器&lt;/div&gt;&#34;;
            if (ABCJS.synth.supportsAudio()) {
                stopAudioButton.setAttribute(&#34;style&#34;, &#34;&#34;);

                
                
                
                
                window.AudioContext = window.AudioContext ||
                    window.webkitAudioContext ||
                    navigator.mozAudioContext ||
                    navigator.msAudioContext;
                var audioContext = new window.AudioContext();
                audioContext.resume().then(function () {
                    

                    
                    midiBuffer = new ABCJS.synth.CreateSynth();

                    
                    return midiBuffer.init({
                        visualObj: visualObj,
                        audioContext: audioContext,
                        millisecondsPerMeasure: visualObj.millisecondsPerMeasure(),
                        sequence: [],
                        options: {
                            soundFontUrl: &#34;https://paulrosen.github.io/midi-js-soundfonts/abcjs/&#34;,
                            program: 0,
                            midiTranspose: 0,
                            fadeLength: 0,
                            defaultQpm: 120,
                            chordsOff: false,
                            voicesOff: false,
                            drum: &#34;&#34;,
                            swing: {
                                beats: 0,
                                value: 0
                            }
                        }
                    }).then(function (response) {
                        console.log(&#34;Notes loaded: &#34;, response)
                        statusDiv.innerHTML += &#34;&lt;div&gt;音频对象初始化&lt;/div&gt;&#34;;
                        
                        
                        return midiBuffer.prime();
                    }).then(function (response) {
                        statusDiv.innerHTML += &#34;&lt;div&gt;状态 = &#34; + response.status + &#34;&lt;/div&gt;&#34;
                        
                        midiBuffer.start();
                        statusDiv.innerHTML += &#34;&lt;div&gt;音频开始&lt;/div&gt;&#34;;
                        return Promise.resolve();
                    }).catch(function (error) {
                        if (error.status === &#34;NotSupported&#34;) {
                            stopAudioButton.setAttribute(&#34;style&#34;, &#34;display:none;&#34;);
                            var audioError = document.querySelector(&#34;.audio-error&#34;);
                            audioError.setAttribute(&#34;style&#34;, &#34;&#34;);
                        } else
                            console.warn(&#34;synth error&#34;, error);
                    });
                });
            } else {
                var audioError = document.querySelector(&#34;.audio-error&#34;);
                audioError.setAttribute(&#34;style&#34;, &#34;&#34;);
            }
        });

        stopAudioButton.addEventListener(&#34;click&#34;, function() {
            startAudioButton.setAttribute(&#34;style&#34;, &#34;&#34;);
            explanationDiv.setAttribute(&#34;style&#34;, &#34;&#34;);
            stopAudioButton.setAttribute(&#34;style&#34;, &#34;display:none;&#34;);
            if (midiBuffer)
                midiBuffer.stop();
        });
    })
&lt;/script&gt;</description>
      
    </item>
    
    <item>
      <title>巴赫旧约</title>
      <link>http://localhost:1313/learn/posts/music/staff/ba_he_jiu_yue/</link>
      <pubDate>Sat, 07 Jun 2025 00:52:13 +0800</pubDate>
      
      <guid>http://localhost:1313/learn/posts/music/staff/ba_he_jiu_yue/</guid>
      <description>&lt;script src=&#34;http://localhost:1313/learn/js/abcjs-basic-min.js&#34; defer&gt;&lt;/script&gt;





&lt;style&gt;
    main {
        width: 50vw;
        margin: 0 auto;
    }
    #paper-0 {
        width: 100%;
    }
    .abcjs-container {
        width: 100% !important;
    }
    .row {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
    }
    .status {
        padding: 2px 10px 10px 10px;
        background-color: #f0f0f0;
        width:250px;
    }
    .start, .stop {
        background-color: #4CAF50;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 16px;
        margin: 10px 5px;
        transition: background-color 0.3s ease;
    }
    .stop {
        background-color: #f44336;
    }
    .start:hover {
        background-color: #45a049;
    }
    .stop:hover {
        background-color: #da190b;
    }
    .start:active, .stop:active {
        transform: scale(0.98);
    }
    @media (prefers-color-scheme: dark) {
        .status {
            background-color: gray;
        }
        .start, .stop {
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
    }
&lt;/style&gt;

&lt;div style=&#34;width: 100%;&#34;&gt;
    &lt;details&gt;
        &lt;summary&gt;查看 ABC 记谱源码&lt;/summary&gt;
        &lt;pre&gt;&lt;code&gt;
X: 1
T: 巴赫旧约
M: 2/4
L: 1/8
N: Ub(s)erate ABC
C: 汪苏泷
Q: 1/4=70
V:1 Program 1 0 %piano
V:2 Program 1 0 octave=-2 bass $piano
K: C
V:1
z2&gt;AB/2    |  cc/2c/2-c/2cd/2|       e/2BB&gt;E2G/2|  AA/2A/2-A/2AB/2|
V:2
V:1
c/2GG&gt;F2E/2|FF/2(F/2 F/2)FF/2|       EA/2c&gt;B2c/2|AB/2-^G/2G/2BA/2-|
V:1
A2&gt;AB/2    |  cc/2c/2-c/2cd/2|        e/2BB&gt;EG/2|  AA/2A/2-A/2AB/2|
V:1
c/2GG&gt;F2E/2|    Fc/2c/2-c/2c&gt;|B2A/2^G/2-G/2A-B/2|               B8|


&lt;/code&gt;&lt;/pre&gt;
    &lt;/details&gt;
    &lt;main&gt;
      &lt;button class=&#34;start&#34; style=&#34;background-color: #4CAF50; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; font-size: 16px; margin: 10px 5px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);&#34;&gt;开始播放&lt;/button&gt;
      &lt;button class=&#34;stop&#34; style=&#34;display: none; background-color: #f44336; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; font-size: 16px; margin: 10px 5px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);&#34;&gt;停止播放&lt;/button&gt;
      &lt;div id=&#34;paper-0&#34;&gt;&lt;/div&gt;
      &lt;div id=&#34;audio&#34;&gt;&lt;/div&gt;
      &lt;div class=&#34;status&#34;&gt;&lt;/div&gt;
      &lt;div class=&#34;suspend-explanation&#34;&gt;点击开始播放按钮开始播放&lt;/div&gt;
      &lt;div class=&#34;audio-error&#34; style=&#34;display: none;&#34;&gt;此浏览器不支持音频播放&lt;/div&gt;
    &lt;/main&gt;
&lt;/div&gt;

&lt;script &gt;
    var abc = `\nX: 1\nT: 巴赫旧约\nM: 2\/4\nL: 1\/8\nN: Ub(s)erate ABC\nC: 汪苏泷\nQ: 1\/4=70\nV:1 Program 1 0 %piano\nV:2 Program 1 0 octave=-2 bass \u0024piano\nK: C\nV:1\nz2\u003eAB\/2    |  cc\/2c\/2-c\/2cd\/2|       e\/2BB\u003eE2G\/2|  AA\/2A\/2-A\/2AB\/2|\nV:2\nV:1\nc\/2GG\u003eF2E\/2|FF\/2(F\/2 F\/2)FF\/2|       EA\/2c\u003eB2c\/2|AB\/2-^G\/2G\/2BA\/2-|\nV:1\nA2\u003eAB\/2    |  cc\/2c\/2-c\/2cd\/2|        e\/2BB\u003eEG\/2|  AA\/2A\/2-A\/2AB\/2|\nV:1\nc\/2GG\u003eF2E\/2|    Fc\/2c\/2-c\/2c\u003e|B2A\/2^G\/2-G\/2A-B\/2|               B8|\n\n\n`;

    addEventListener(&#34;DOMContentLoaded&#34;, function() {
        function updateScale() {
            var container = document.querySelector(&#39;main&#39;);
            var containerWidth = container.offsetWidth;
            var scale = containerWidth / 700; 
            return Math.min(Math.max(scale, 0.8), 2.0); 
        }

        
        var visualObj = ABCJS.renderAbc(&#34;paper-0&#34;, abc, {
            responsive: &#34;resize&#34;,
            scale: updateScale()
        })[0];

        
        window.addEventListener(&#39;resize&#39;, function() {
            ABCJS.renderAbc(&#34;paper-0&#34;, abc, {
                responsive: &#34;resize&#34;,
                scale: updateScale()
            });
        });

        
        
        var midiBuffer;

        var startAudioButton = document.querySelector(&#34;.start&#34;);
        var stopAudioButton = document.querySelector(&#34;.stop&#34;);
        var explanationDiv = document.querySelector(&#34;.suspend-explanation&#34;);
        var statusDiv = document.querySelector(&#34;.status&#34;);

        startAudioButton.addEventListener(&#34;click&#34;, function() {
            startAudioButton.setAttribute(&#34;style&#34;, &#34;display:none;&#34;);
            explanationDiv.setAttribute(&#34;style&#34;, &#34;opacity: 0;&#34;);
            statusDiv.innerHTML = &#34;&lt;div&gt;测试浏览器&lt;/div&gt;&#34;;
            if (ABCJS.synth.supportsAudio()) {
                stopAudioButton.setAttribute(&#34;style&#34;, &#34;&#34;);

                
                
                
                
                window.AudioContext = window.AudioContext ||
                    window.webkitAudioContext ||
                    navigator.mozAudioContext ||
                    navigator.msAudioContext;
                var audioContext = new window.AudioContext();
                audioContext.resume().then(function () {
                    

                    
                    midiBuffer = new ABCJS.synth.CreateSynth();

                    
                    return midiBuffer.init({
                        visualObj: visualObj,
                        audioContext: audioContext,
                        millisecondsPerMeasure: visualObj.millisecondsPerMeasure(),
                        sequence: [],
                        options: {
                            soundFontUrl: &#34;https://paulrosen.github.io/midi-js-soundfonts/abcjs/&#34;,
                            program: 0,
                            midiTranspose: 0,
                            fadeLength: 0,
                            defaultQpm: 120,
                            chordsOff: false,
                            voicesOff: false,
                            drum: &#34;&#34;,
                            swing: {
                                beats: 0,
                                value: 0
                            }
                        }
                    }).then(function (response) {
                        console.log(&#34;Notes loaded: &#34;, response)
                        statusDiv.innerHTML += &#34;&lt;div&gt;音频对象初始化&lt;/div&gt;&#34;;
                        
                        
                        return midiBuffer.prime();
                    }).then(function (response) {
                        statusDiv.innerHTML += &#34;&lt;div&gt;状态 = &#34; + response.status + &#34;&lt;/div&gt;&#34;
                        
                        midiBuffer.start();
                        statusDiv.innerHTML += &#34;&lt;div&gt;音频开始&lt;/div&gt;&#34;;
                        return Promise.resolve();
                    }).catch(function (error) {
                        if (error.status === &#34;NotSupported&#34;) {
                            stopAudioButton.setAttribute(&#34;style&#34;, &#34;display:none;&#34;);
                            var audioError = document.querySelector(&#34;.audio-error&#34;);
                            audioError.setAttribute(&#34;style&#34;, &#34;&#34;);
                        } else
                            console.warn(&#34;synth error&#34;, error);
                    });
                });
            } else {
                var audioError = document.querySelector(&#34;.audio-error&#34;);
                audioError.setAttribute(&#34;style&#34;, &#34;&#34;);
            }
        });

        stopAudioButton.addEventListener(&#34;click&#34;, function() {
            startAudioButton.setAttribute(&#34;style&#34;, &#34;&#34;);
            explanationDiv.setAttribute(&#34;style&#34;, &#34;&#34;);
            stopAudioButton.setAttribute(&#34;style&#34;, &#34;display:none;&#34;);
            if (midiBuffer)
                midiBuffer.stop();
        });
    })
&lt;/script&gt;</description>
      
    </item>
    
    <item>
      <title>学习 MCP - 本地 Server Demo</title>
      <link>http://localhost:1313/learn/posts/tech/ai/mcp/local_server_demo/</link>
      <pubDate>Wed, 04 Jun 2025 22:39:13 +0800</pubDate>
      
      <guid>http://localhost:1313/learn/posts/tech/ai/mcp/local_server_demo/</guid>
      <description>&lt;p&gt;这篇文章将带你创建一个简单的 MCP Local Server 服务。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;需要注意，不同的操作系统的准备工作是不同的，详细的信息可以访问 &lt;a href=&#34;https://modelcontextprotocol.io/quickstart/server&#34; target=&#34;_blank&#34;&gt;https://modelcontextprotocol.io/quickstart/server&lt;/a&gt; 了解
我的环境是 &lt;code&gt;MAC&lt;/code&gt; 的操作系统。&lt;/p&gt;&lt;/blockquote&gt;

&lt;h2 class=&#34;relative group&#34;&gt;环境准备 
    &lt;div id=&#34;环境准备&#34; class=&#34;anchor&#34;&gt;&lt;/div&gt;
    
    &lt;span
        class=&#34;absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100&#34;&gt;
        &lt;a class=&#34;group-hover:text-primary-300 dark:group-hover:text-neutral-700&#34;
            style=&#34;text-decoration-line: none !important;&#34; href=&#34;#%e7%8e%af%e5%a2%83%e5%87%86%e5%a4%87&#34; aria-label=&#34;锚点&#34;&gt;#&lt;/a&gt;
    &lt;/span&gt;        
    
&lt;/h2&gt;

&lt;h3 class=&#34;relative group&#34;&gt;1. 安装 uv 
    &lt;div id=&#34;1-安装-uv&#34; class=&#34;anchor&#34;&gt;&lt;/div&gt;
    
    &lt;span
        class=&#34;absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100&#34;&gt;
        &lt;a class=&#34;group-hover:text-primary-300 dark:group-hover:text-neutral-700&#34;
            style=&#34;text-decoration-line: none !important;&#34; href=&#34;#1-%e5%ae%89%e8%a3%85-uv&#34; aria-label=&#34;锚点&#34;&gt;#&lt;/a&gt;
    &lt;/span&gt;        
    
&lt;/h3&gt;
&lt;p&gt;执行以下指令：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;curl -LsSf https://astral.sh/uv/install.sh | sh
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# installing to /Users/xxx/.local/bin&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#   uv&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#   uvx&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# everything&amp;#39;s installed!&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# To add $HOME/.local/bin to your PATH, either restart your shell or run:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#     source $HOME/.local/bin/env (sh, bash, zsh)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#     source $HOME/.local/bin/env.fish (fish)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 让当前的 Context 生效&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;source $HOME/.local/bin/env 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;将 &lt;code&gt;$HOME/.local/bin&lt;/code&gt; 添加到环境路径 &lt;code&gt;PATH&lt;/code&gt; 中。笔者用的是 &lt;code&gt;ZSH&lt;/code&gt; 所以直接添加到 &lt;code&gt;~/.zshrc&lt;/code&gt;&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>容器网络 - IpTables</title>
      <link>http://localhost:1313/learn/posts/tech/network/container_network_iptables/</link>
      <pubDate>Tue, 03 Jun 2025 23:13:49 +0800</pubDate>
      
      <guid>http://localhost:1313/learn/posts/tech/network/container_network_iptables/</guid>
      <description>&lt;h1 class=&#34;relative group&#34;&gt;IpTables - Linux 中的强力防火墙 
    &lt;div id=&#34;iptables---linux-中的强力防火墙&#34; class=&#34;anchor&#34;&gt;&lt;/div&gt;
    
    &lt;span
        class=&#34;absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100&#34;&gt;
        &lt;a class=&#34;group-hover:text-primary-300 dark:group-hover:text-neutral-700&#34;
            style=&#34;text-decoration-line: none !important;&#34; href=&#34;#iptables---linux-%e4%b8%ad%e7%9a%84%e5%bc%ba%e5%8a%9b%e9%98%b2%e7%81%ab%e5%a2%99&#34; aria-label=&#34;锚点&#34;&gt;#&lt;/a&gt;
    &lt;/span&gt;        
    
&lt;/h1&gt;
&lt;p&gt;&lt;code&gt;IpTables&lt;/code&gt; 是一个 &lt;code&gt;NetFilter&lt;/code&gt; 的用户态应用程序。&lt;/p&gt;
&lt;p&gt;主要面向系统管理员的 Linux 内核防火墙。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;是的，&lt;code&gt;IpTables&lt;/code&gt; 实际是一个防火墙，而不是路由器。&lt;/p&gt;&lt;/blockquote&gt;

&lt;h2 class=&#34;relative group&#34;&gt;容器时代的机遇 
    &lt;div id=&#34;容器时代的机遇&#34; class=&#34;anchor&#34;&gt;&lt;/div&gt;
    
    &lt;span
        class=&#34;absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100&#34;&gt;
        &lt;a class=&#34;group-hover:text-primary-300 dark:group-hover:text-neutral-700&#34;
            style=&#34;text-decoration-line: none !important;&#34; href=&#34;#%e5%ae%b9%e5%99%a8%e6%97%b6%e4%bb%a3%e7%9a%84%e6%9c%ba%e9%81%87&#34; aria-label=&#34;锚点&#34;&gt;#&lt;/a&gt;
    &lt;/span&gt;        
    
&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;订书器也没有想到有一天他订装的不是精神粮食，而是真的粮食。&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;除网络隔离之外，IpTables 还提供了流量隔离、管理的能力。&lt;/p&gt;

&lt;h2 class=&#34;relative group&#34;&gt;IpTables 的 Table(表) 
    &lt;div id=&#34;iptables-的-table表&#34; class=&#34;anchor&#34;&gt;&lt;/div&gt;
    
    &lt;span
        class=&#34;absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100&#34;&gt;
        &lt;a class=&#34;group-hover:text-primary-300 dark:group-hover:text-neutral-700&#34;
            style=&#34;text-decoration-line: none !important;&#34; href=&#34;#iptables-%e7%9a%84-table%e8%a1%a8&#34; aria-label=&#34;锚点&#34;&gt;#&lt;/a&gt;
    &lt;/span&gt;        
    
&lt;/h2&gt;
&lt;p&gt;容器时代更加常见使用的是 &lt;code&gt;NAT&lt;/code&gt; 表，比如 &lt;code&gt;Docker&lt;/code&gt; 将服务暴露到主机服务上，实际上就是通过 &lt;code&gt;IpTables&lt;/code&gt; 实现的。
如果在启动 &lt;code&gt;Docker&lt;/code&gt; 添加启动参数 &lt;code&gt;--iptables=false&lt;/code&gt;, &lt;code&gt;Docker&lt;/code&gt; 就无法通过 &lt;code&gt;IpTables&lt;/code&gt; 将服务暴露在主机上。&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>网络基础</title>
      <link>http://localhost:1313/learn/posts/tech/network/base/</link>
      <pubDate>Tue, 03 Jun 2025 22:38:02 +0800</pubDate>
      
      <guid>http://localhost:1313/learn/posts/tech/network/base/</guid>
      <description>&lt;h1 class=&#34;relative group&#34;&gt;网络基础 
    &lt;div id=&#34;网络基础&#34; class=&#34;anchor&#34;&gt;&lt;/div&gt;
    
    &lt;span
        class=&#34;absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100&#34;&gt;
        &lt;a class=&#34;group-hover:text-primary-300 dark:group-hover:text-neutral-700&#34;
            style=&#34;text-decoration-line: none !important;&#34; href=&#34;#%e7%bd%91%e7%bb%9c%e5%9f%ba%e7%a1%80&#34; aria-label=&#34;锚点&#34;&gt;#&lt;/a&gt;
    &lt;/span&gt;        
    
&lt;/h1&gt;
&lt;p&gt;计算机时代，不论是什么原因，我们都应该了解熟悉网络相关知识。&lt;/p&gt;

&lt;h2 class=&#34;relative group&#34;&gt;网络 7 层标准模型 
    &lt;div id=&#34;网络-7-层标准模型&#34; class=&#34;anchor&#34;&gt;&lt;/div&gt;
    
    &lt;span
        class=&#34;absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100&#34;&gt;
        &lt;a class=&#34;group-hover:text-primary-300 dark:group-hover:text-neutral-700&#34;
            style=&#34;text-decoration-line: none !important;&#34; href=&#34;#%e7%bd%91%e7%bb%9c-7-%e5%b1%82%e6%a0%87%e5%87%86%e6%a8%a1%e5%9e%8b&#34; aria-label=&#34;锚点&#34;&gt;#&lt;/a&gt;
    &lt;/span&gt;        
    
&lt;/h2&gt;
&lt;p&gt;自上而下&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th style=&#34;text-align: center&#34;&gt;#&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;名&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;常见协议&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;说明&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: center&#34;&gt;1&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;应用层(Application Layer)&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;code&gt;HTTP&lt;/code&gt; &lt;/br&gt; &lt;code&gt;FTP&lt;/code&gt; &lt;/br&gt; &lt;code&gt;SMTP&lt;/code&gt; &lt;/br&gt; &lt;code&gt;DNS&lt;/code&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;直接为用户的应用程序提供服务。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: center&#34;&gt;2&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;表示层(Presentation Layer)&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;负责数据的表示、加密、解密和压缩，如数据格式转换、加密解密、字符集转换等。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: center&#34;&gt;3&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;会化层(Session Layer)&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;管理会话，建立、管理和终止会话连接，如登录验证、会话恢复等。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: center&#34;&gt;4&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;传输层(Transport Layer)&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;code&gt;TCP&lt;/code&gt; &lt;/br&gt; &lt;code&gt;UDP&lt;/code&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;提供端到端的可靠传输和流量控制。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: center&#34;&gt;5&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;网络层(Network Layer)&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;负责数据包的路由和转发，实现不同网络之间的通信。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: center&#34;&gt;6&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;数据链路层(Data Link Layer)&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;负责在同一网络内的数据帧传输和差错检测。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: center&#34;&gt;7&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;物理层 (Physical Layer)&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;负责比特流的传输，定义物理设备的电气、机械、过程和功能规范，如网线、光纤、集线器等。&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;</description>
      
    </item>
    
    <item>
      <title>GO Channel 的空值特性</title>
      <link>http://localhost:1313/learn/posts/ln/go/channel/</link>
      <pubDate>Mon, 02 Jun 2025 19:10:41 +0800</pubDate>
      
      <guid>http://localhost:1313/learn/posts/ln/go/channel/</guid>
      <description>&lt;h1 class=&#34;relative group&#34;&gt;Golang Channel nil 
    &lt;div id=&#34;golang-channel-nil&#34; class=&#34;anchor&#34;&gt;&lt;/div&gt;
    
    &lt;span
        class=&#34;absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100&#34;&gt;
        &lt;a class=&#34;group-hover:text-primary-300 dark:group-hover:text-neutral-700&#34;
            style=&#34;text-decoration-line: none !important;&#34; href=&#34;#golang-channel-nil&#34; aria-label=&#34;锚点&#34;&gt;#&lt;/a&gt;
    &lt;/span&gt;        
    
&lt;/h1&gt;
&lt;p&gt;Channel 在空值的时候会有特殊的行为。&lt;/p&gt;
&lt;p&gt;与大多数的数据类型不同，Channel 在 &lt;code&gt;nil&lt;/code&gt; 的情况下进行读写会发生线程阻塞，而不是空指针异常。&lt;/p&gt;

&lt;h2 class=&#34;relative group&#34;&gt;ReadNil 
    &lt;div id=&#34;readnil&#34; class=&#34;anchor&#34;&gt;&lt;/div&gt;
    
    &lt;span
        class=&#34;absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100&#34;&gt;
        &lt;a class=&#34;group-hover:text-primary-300 dark:group-hover:text-neutral-700&#34;
            style=&#34;text-decoration-line: none !important;&#34; href=&#34;#readnil&#34; aria-label=&#34;锚点&#34;&gt;#&lt;/a&gt;
    &lt;/span&gt;        
    
&lt;/h2&gt;






















&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;package&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;nilCh&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;chan&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt;{} = &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;nilCh&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// STDOUT&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// fatal error: all goroutines are asleep - deadlock!&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// goroutine 1 [chan receive (nil chan)]:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// main.main()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//         /learn/codes/go/channel/readnil/read_nil_channel.go:5 +0x24&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// exit status 2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;



&lt;h2 class=&#34;relative group&#34;&gt;WriteNil 
    &lt;div id=&#34;writenil&#34; class=&#34;anchor&#34;&gt;&lt;/div&gt;
    
    &lt;span
        class=&#34;absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100&#34;&gt;
        &lt;a class=&#34;group-hover:text-primary-300 dark:group-hover:text-neutral-700&#34;
            style=&#34;text-decoration-line: none !important;&#34; href=&#34;#writenil&#34; aria-label=&#34;锚点&#34;&gt;#&lt;/a&gt;
    &lt;/span&gt;        
    
&lt;/h2&gt;






















&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;package&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;nilCh&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;chan&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt;{} = &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;nilCh&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt;{}{}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// STDOUT&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// fatal error: all goroutines are asleep - deadlock!&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// goroutine 1 [chan send (nil chan)]:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// main.main()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//         /Users/uberate/workspace/learn/codes/go/channel/writenil/write_nil_channel.go:5 +0x24&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// exit status 2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;执行上述两个代码我们发现了一个现象，&lt;code&gt;nil&lt;/code&gt; 状态下的 Channel 是无法读写的，会一直阻塞。&lt;/p&gt;</description>
      
    </item>
    
  </channel>
</rss>
